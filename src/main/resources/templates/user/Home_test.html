<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ƒê·∫∑t v√© t√†u online</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link th:href="@{/img/favicon.ico}" rel="shortcut icon" type="image/x-icon">
  <!-- Bootstrap v5.0.1 -->
  <link th:href="@{/css/bootstrap.css}" type="text/css" rel="stylesheet">
  <script th:src="@{/js/bootstrap.bundle.js}" type="text/javascript"></script>
  <!-- Bootstrap Icons v1.5.0 -->
  <link th:href="@{/static/css/bootstrap-icons.css}" type="text/css" rel="stylesheet">
  <!-- Custom Styles -->
  <link th:href="@{/css/styles.css}" type="text/css" rel="stylesheet">
  <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
  <link rel="stylesheet" th:href="@{/css/layout.css}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEJ10x8bH8tQy4bm8a7Unw7CkCz7Y2pA8a6vFtvbA0hZTkNffpV8V4jeIm9xr" crossorigin="anonymous">
  <!-- Bootstrap Icons (optional, for the account icon) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    var changeLanguage = function (dom) {
      window.location.href = '?lang=' + dom.value;
    }
  </script>
  <!--narbar-->
  <style>
    body {
      /*background: url('/img/backG.png') no-repeat center center/cover;*/
      background: url('/img/backG.png') ;
      min-height: 100vh;
      font-family: sans-serif;
      /*padding-top: 70px;*/
    }

    .booking-form {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 10px;
      padding: 40px;
    }

    .form-section {
      max-width: 1000px;
      margin: 100px auto 30px;

    }


    .title {
      color: white;
      text-shadow: 1px 1px 2px black;
    }

    footer {
      background: white;
      /*padding: 20px;*/
      text-align: center;
    }
  </style>
  <style>
    /* Map section */
    swap-btn {
      width: 3rem;
      height: 3rem;
      background: linear-gradient(135deg, #6366f1, #4f46e5);
      border: none;
      border-radius: 50%;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .swap-btn:hover {
      transform: rotate(180deg) scale(1.1);
      box-shadow: 0 8px 25px rgba(99, 102, 241, 0.3);
    }
    .swap-btn {
      transform: rotate(90deg);
    }
    .map-section {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(15px);
      border-radius: 1.5rem;
      padding: 3rem;
      margin-top: 3rem;
    }

    .map-section h1, .map-section h5 {
      color: #1f2937;
    }
  </style>
</head>
<body class="bg-cover bg-center min-h-screen"
      style="background-image: url('https://res.ivivu.com/train/images/bg-train.jpg');">

<!-- Navbar-->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
  <div class="container-fluid px-5 ">
    <a class="navbar-brand" href="#">TrainTicket</a>
    <div class="navbar-nav">
      <a class="nav-link text-white" th:href="@{/user/home}"
         th:classappend="${menu == 'userHome'} ? 'active' ">Home</a>
      <a class="nav-link text-white" th:href="@{/user/trip/list}"
         th:classappend="${menu == 'trip'} ? 'active'">Trip</a>
      <a class="nav-link text-white" href="#">Train Seat</a>
      <a class="nav-link text-white" th:href="@{/user/support}"
         th:classappend="${menu == 'support'} ? 'active'">Support</a>
      <a class="nav-link text-white" href="#">Q&A</a>
    </div>

    <div class="d-flex text-white ms-auto">
      <!--            <button class="btn btn-light" type="button">-->
      <a th:href="@{/user/order/view}" class="nav-link text-white">
        <i class="bi bi-cart "> ƒê∆°n h√†ng</i>
      </a>
      <div class="dropdown">
        <!-- N√∫t icon t√†i kho·∫£n -->
        <button class="btn btn-light" type="button" id="accountDropdown" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-person"></i>
          <span th:if="${currentUser != null}"
                th:text="${currentUser.fullname}"></span>
          <span th:if="${currentUser == null}">T√†i kho·∫£n</span>
        </button>

        <!-- Danh s√°ch t√πy ch·ªçn -->
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="accountDropdown">
          <!-- N·∫øu ƒë√£ ƒëƒÉng nh·∫≠p -->
          <li th:if="${currentUser != null}">
            <a class="dropdown-item text-primary" th:each="role : ${currentUser.role}"
               th:if="${role == 'ADMIN'}"
               th:href="@{/admin/home}">ADMIN</a>
            <hr class="" >
          </li>
          <li th:if="${currentUser != null}">
            <a class="dropdown-item" th:href="@{/cart/checkout}">Checkout</a>
          </li>
          <li th:if="${currentUser != null}">
            <a class="dropdown-item" th:href="@{/cart/checkout-vnpay}">VNPAY</a>
          </li>
          <li th:if="${currentUser != null}">
            <a class="dropdown-item" th:href="@{/orders}">ƒê∆°n h√†ng</a>
          </li>
          <li th:if="${currentUser != null}">
            <a class="dropdown-item" th:href="@{/wishlist}">Y√™u th√≠ch</a>
          </li>
          <li th:if="${currentUser != null}">
            <a class="dropdown-item" th:href="@{/logout}">ƒêƒÉng xu·∫•t</a>
          </li>

          <!-- N·∫øu ch∆∞a ƒëƒÉng nh·∫≠p -->
          <li th:if="${currentUser == null}">
            <a class="dropdown-item" th:href="@{/login}">ƒêƒÉng nh·∫≠p</a>
          </li>
          <li th:if="${currentUser == null}">
            <a class="dropdown-item" th:href="@{/register}">T·∫°o t√†i kho·∫£n</a>
          </li>

        </ul>
      </div>


    </div>
  </div>
</nav>

<div class="bg-black/5 min-h-screen flex items-center justify-center px-4">
  <div class="bg-white rounded-xl shadow-lg w-full max-w-4xl p-10 ">
    <!-- Ti√™u ƒë·ªÅ -->
    <h1 class="text-2xl font-bold text-blue-800 flex items-center">
      ƒê·∫∑t v√© t√†u h·ªèa online
      <span class="ml-4 bg-red-100 text-red-600 px-3 py-1 rounded-full text-sm font-medium">
          üî• 1000 kh√°ch ƒë·∫∑t v√© trong 24 gi·ªù qua
        </span>
    </h1>
    <p class="text-gray-700 mt-1 flex items-center">
      Nh·∫≠n ngay v√© ƒëi·ªán t·ª≠ - l√™n t√†u nhanh!
      <!--            <span class="ml-3 text-white bg-green-600 rounded px-2 font-semibold">9.6</span>-->
      <!--            <a th:href="@{/user/review/list}" class="underline text-blue-600 ml-1">37 ƒë√°nh gi√°</a>-->
      <span class="ml-3 text-white bg-green-600 rounded px-2 font-semibold"
            th:text="${averageRating}">9.6</span>
      <a th:href="@{/user/review/list}"
         class="underline text-blue-600 ml-1"
         th:text="${reviewCount} + ' ƒë√°nh gi√°'">37 ƒë√°nh gi√°</a>

    </p>

    <!-- Form -->
    <form class="bg-black/5 shadow-md p-4 gap-6 mt-6 row flex justify-between items-center"
          method="get"
          th:action="@{/user/trip/search}">

      <div class="col-span-3 flex space-x-6">
        <!-- Lo·∫°i v√© -->
        <div class="flex flex-col">
          <label class="text-sm text-gray-600 mx-auto">Lo·∫°i v√©</label>
          <select id="ticketType" name="tripType" class="border rounded px-3 py-1 text-sm">
            <option value="oneway">M·ªôt chi·ªÅu</option>
            <option value="roundtrip">Kh·ª© h·ªìi</option>
          </select>
        </div>
        <!-- S·ªë l∆∞·ª£ng v√© theo lo·∫°i -->
        <div class="flex flex-col relative">
          <label class="text-sm text-gray-600 mx-auto">üë• S·ªë l∆∞·ª£ng v√©</label>
          <button id="ticketToggle" type="button"
                  class="border rounded-md px-3 py-1 text-sm bg-white w-40 flex justify-between items-center">
            <span id="totalTicketCount">1 v√©</span>
            <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M19 9l-7 7-7-7"/>
            </svg>
          </button>

          <div id="ticketDropdown" class="absolute z-50 top-14 left-0 bg-white shadow-lg border rounded-md p-4 space-y-3 w-72 hidden">
            <!-- Ng∆∞·ªùi l·ªõn -->
            <div class="flex justify-between items-center">
              <div>
                <p class="font-medium">Ng∆∞·ªùi l·ªõn</p>
                <p class="text-xs text-gray-500">T·ª´ 11 - 59 tu·ªïi</p>
              </div>
              <div class="flex items-center space-x-2">
                <button type="button" class="ticket-decrease px-2 py-1 bg-gray-200 rounded" data-type="adult">‚àí</button>
                <span id="adultCount">0</span>
                <button type="button" class="ticket-increase px-2 py-1 bg-gray-200 rounded" data-type="adult">+</button>
                <input type="hidden" name="adultQuantity" value="0">
              </div>
            </div>

            <!-- Tr·∫ª em -->
            <div class="flex justify-between items-center">
              <div>
                <p class="font-medium">Tr·∫ª em <span class="text-orange-500 text-xs">-25%</span></p>
                <p class="text-xs text-gray-500">T·ª´ 6 - 10 tu·ªïi</p>
              </div>
              <div class="flex items-center space-x-2">
                <button type="button" class="ticket-decrease px-2 py-1 bg-gray-200 rounded" data-type="child">‚àí</button>
                <span id="childCount">0</span>
                <button type="button" class="ticket-increase px-2 py-1 bg-gray-200 rounded" data-type="child">+</button>
                <input type="hidden" name="childQuantity" value="0">
              </div>
            </div>

            <!-- Ng∆∞·ªùi cao tu·ªïi -->
            <div class="flex justify-between items-center">
              <div>
                <p class="font-medium">Ng∆∞·ªùi cao tu·ªïi <span class="text-orange-500 text-xs">-15%</span></p>
                <p class="text-xs text-gray-500">T·ª´ 60 tu·ªïi</p>
              </div>
              <div class="flex items-center space-x-2">
                <button type="button" class="ticket-decrease px-2 py-1 bg-gray-200 rounded" data-type="senior">‚àí</button>
                <span id="seniorCount">0</span>
                <button type="button" class="ticket-increase px-2 py-1 bg-gray-200 rounded" data-type="senior">+</button>
                <input type="hidden" name="seniorQuantity" value="0">
              </div>
            </div>

            <!-- Sinh vi√™n -->
            <div class="flex justify-between items-center">
              <div>
                <p class="font-medium">Sinh vi√™n <span class="text-orange-500 text-xs">-10%</span></p>
                <p class="text-xs text-gray-500">Th·∫ª SV</p>
              </div>
              <div class="flex items-center space-x-2">
                <button type="button" class="ticket-decrease px-2 py-1 bg-gray-200 rounded" data-type="student">‚àí</button>
                <span id="studentCount">0</span>
                <button type="button" class="ticket-increase px-2 py-1 bg-gray-200 rounded" data-type="student">+</button>
                <input type="hidden" name="studentQuantity" value="0">
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="flex flex-wrap md:flex-nowrap items-center justify-between gap-4 mt-4">
        <!-- Ga ƒëi & ƒë·∫øn -->
        <div class="bg-white flex items-center gap-4 bg-gray-100 rounded-md p-2">
          <div class="flex items-center gap-2">
            <img src="https://res.ivivu.com/train/images/icon/ic_train.svg" alt="Ga ƒëi" class="w-5 h-5">
            <input list="stationF" type="text" name="departureName"
                   placeholder="ch·ªçn ga ƒëi "
                   class="bg-transparent outline-none w-32" required>
            <datalist id="stationF">
              <option th:each="station : ${stations}"
                      th:text="${station.name}">
              </option>
            </datalist>
          </div>

          <!--                    <button type="button" class="bg-white rounded-full p-2 shadow-md">-->
          <!--                        <img src="https://res.ivivu.com/train/images/icon/ic_2wayarrow.svg" alt="ƒê·ªïi chi·ªÅu" class="w-4 h-4">-->
          <!--                    </button>-->

          <button type="button" class="swap-btn">
            <i class="bi bi-arrow-left-right"></i>
          </button>

          <div class="flex items-center gap-2">
            <img src="https://res.ivivu.com/train/images/icon/ic_train.svg" alt="Ga ƒë·∫øn" class="w-5 h-5">
            <input list="stationT" type="text" name="arrivalName"
                   placeholder="ch·ªçn ga ƒë·∫øn "
                   class="bg-transparent outline-none w-32" required>
            <datalist id="stationT">
              <option th:each="station : ${stations}"
                      th:text="${station.name}">
              </option>
            </datalist>
          </div>
        </div>

        <div class="flex flex-col">
          <!--<label class="text-sm text-gray-600 mx-auto mb-1">Ng√†y ƒëi</label>-->
          <input type="text" id="departureDate" name="departureDate"
                 placeholder="ch·ªçn ng√†y ƒëi"
                 class="border rounded-md px-4 py-2 text-lg  text-gray-500"
                 onfocus="this.type='date'; this.classList.remove('text-gray-500')"
                 onblur="if (!this.value) { this.type='text'; this.classList.add('text-gray-500') }">
        </div>
        <div class="flex flex-col">
          <!--                    <label class="text-sm text-gray-600 mx-auto mb-1">Ng√†y v·ªÅ</label>-->
          <input type="text" id="returnDate" name="returnDate"
                 placeholder="ch·ªçn ng√†y v·ªÅ"
                 class="border rounded-md px-4 py-2 text-lg  text-gray-500"
                 onfocus="this.type='date'; this.classList.remove('text-gray500')"
                 onblur="if (!this.value) { this.type='text'; this.classList.add('text-gray-500') }">
        </div>

        <!-- Ng√†y v·ªÅ -->


        <!-- Giao di·ªán ch·ªçn ng√†y -->
        <!--                <div class="flex gap-4 justify-center items-start mt-8">-->

        <!--                    &lt;!&ndash; Ng√†y ƒëi &ndash;&gt;-->
        <!--                    <label for="departureDate"-->
        <!--                           class="flex items-center gap-3 border rounded-xl px-4 py-3 bg-white shadow-sm w-[250px] cursor-pointer">-->
        <!--                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-gray-600" fill="none" viewBox="0 0 24 24"-->
        <!--                             stroke="currentColor">-->
        <!--                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"-->
        <!--                                  d="M8 7V3M16 7V3M4 11h16M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>-->
        <!--                        </svg>-->
        <!--                        <div class="flex flex-col text-sm">-->
        <!--                            <span class="text-gray-600" id="departureDay">Th·ª© ...</span>-->
        <!--                            <span class="font-semibold" id="departureFormatted">__/__/____</span>-->
        <!--                        </div>-->
        <!--                    </label>-->
        <!--                    <input type="date" id="departureDate" name="departureDate"-->
        <!--                           class="absolute opacity-0 w-0 h-0">-->

        <!--                    &lt;!&ndash; Ng√†y v·ªÅ &ndash;&gt;-->
        <!--                    <label for="returnDate"-->
        <!--                           class="flex items-center gap-3 border rounded-xl px-4 py-3 bg-white shadow-sm w-[250px] cursor-pointer">-->
        <!--                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-gray-600" fill="none" viewBox="0 0 24 24"-->
        <!--                             stroke="currentColor">-->
        <!--                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"-->
        <!--                                  d="M8 7V3M16 7V3M4 11h16M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>-->
        <!--                        </svg>-->
        <!--                        <div class="flex flex-col text-sm">-->
        <!--                            <span class="text-gray-600" id="returnDay">Ng√†y v·ªÅ (Kh·ª© h·ªìi)</span>-->
        <!--                            <span class="text-gray-500" id="returnFormatted">Ch·ªçn n·∫øu mua v√© v·ªÅ</span>-->
        <!--                        </div>-->
        <!--                    </label>-->
        <!--                    <input type="date" id="returnDate" name="returnDate"-->
        <!--                           class="absolute opacity-0 w-0 h-0">-->

        <!--                </div>-->
        <!-- N√∫t t√¨m -->
        <button class="bg-orange-500 hover:bg-yellow-400 text-white font-semibold px-6 py-2 rounded-md mx-auto w-1/4" type="submit">
          T√¨m chuy·∫øn
        </button>
      </div>


    </form>
  </div>
</div>


<!-- Footer / Support -->
<footer>
  <div class="form-section row">
    <div class="col-md-4">
      <p>üöÜ T√¨m chuy·∫øn t√†u ph√π h·ª£p<br /><small>L·ª±a ch·ªçn l·ªãch tr√¨nh linh ho·∫°t</small></p>
    </div>
    <div class="col-md-4">
      <p>üì© ƒê·∫∑t v√© nhanh, d·ªÖ d√†ng<br /><small>Nh·∫≠n v√© ngay sau khi ƒë·∫∑t</small></p>
    </div>
    <div class="col-md-4">
      <p>üìû Lu√¥n s·∫µn s√†ng h·ªó tr·ª£<br /><small>Ph·∫£n h·ªìi trong 15 ph√∫t qua ƒëi·ªán tho·∫°i, Zalo</small></p>
    </div>
  </div>
</footer>

<div class="container-fluid px-5">
  <div class="px-5"><h1>B·∫£n ƒë·ªì tuy·∫øn ƒë∆∞·ªùng s·∫Øt Vi·ªát Nam </h1></div>
  <h5 class="px-5 text-dark">Xem th√¥ng tin chi ti·∫øt v·ªÅ c√°c tuy·∫øn t√†u h·ªèa, l·ªãch tr√¨nh v√† ƒëi·ªÉm d·ª´ng</h5>
  <img th:src="@{/img/mapVN.png}" class="img-fluid px-5" >
</div>

<!-- Map Section -->
<div class="container">
  <div class="map-section">
    <div class="px-3">
      <h1>B·∫£n ƒë·ªì tuy·∫øn ƒë∆∞·ªùng s·∫Øt Vi·ªát Nam</h1>
      <h5 class="text-muted mb-4">Xem th√¥ng tin chi ti·∫øt v·ªÅ c√°c tuy·∫øn t√†u h·ªèa, l·ªãch tr√¨nh v√† ƒëi·ªÉm d·ª´ng</h5>
      <div class="text-center bg-light rounded-4 p-5">
        <i class="bi bi-map display-1 text-muted"></i>
        <p class="text-muted mt-3">B·∫£n ƒë·ªì tuy·∫øn ƒë∆∞·ªùng s·∫Øt s·∫Ω hi·ªÉn th·ªã t·∫°i ƒë√¢y</p>
        <img th:src="@{/img/mapVN.png}" class="img-fluid" style="max-width: 100%; height: auto; border-radius: 1rem;">
      </div>
    </div>
  </div>
</div>
<!-- Customer Reviews Section -->
<div class="container">
  <div class="map-section">
    <div class="px-3">
      <h1>ƒê√°nh gi√° c·ªßa kh√°ch h√†ng s·ª≠ d·ª•ng d·ªãch v·ª• ƒë·∫∑t v√© t√†u h·ªèa</h1>
      <div class="text-center">
        <p class="text-muted">H√†ng ngh√¨n kh√°ch h√†ng tin t∆∞·ªüng s·ª≠ d·ª•ng d·ªãch v·ª• c·ªßa ch√∫ng t√¥i</p>
      </div>
    </div>
  </div>
</div>
<div class="container-fluid px-5">
  <div class="px-5"><h1>ƒê√°nh gi√° c·ªßa kh√°ch h√†ng s·ª≠ d·ª•ng d·ªãch v·ª• ƒë·∫∑t v√© t√†u h·ªèa iVIVU</h1></div>
</div>

<!--active-->
<script >
  const links = document.querySelectorAll('.nav-link');

  links.forEach(link => {
    link.addEventListener('click', function () {
      links.forEach(l => l.classList.remove('active')); // B·ªè active ·ªü t·∫•t c·∫£ c√°c m·ª•c
      this.classList.add('active'); // Th√™m active cho m·ª•c v·ª´a click
    });
  });
</script>
<!-- Station swap script -->
<script>
  document.querySelector(".swap-btn").addEventListener("click", () => {
    const from = document.querySelector("input[name='departureName']");
    const to = document.querySelector("input[name='arrivalName']");
    const temp = from.value;
    from.value = to.value;
    to.value = temp;
  });
</script>
<script>
  const ticketTypeSelect = document.getElementById("ticketType");
  const returnDateInput = document.getElementById("returnDate");

  returnDateInput.addEventListener("change", () => {
    if (ticketTypeSelect.value === "oneway" && returnDateInput.value) {
      ticketTypeSelect.value = "roundtrip";
    }
  });
</script>
<script>
  document.querySelector("button[type='button']").addEventListener("click", () => {
    const from = document.querySelector("input[name='departureName']");
    const to = document.querySelector("input[name='arrivalName']");
    const temp = from.value;
    from.value = to.value;
    to.value = temp;
  });
</script>

<!--th·ªÉ lo·∫°i v√©(form)-->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const toggleBtn = document.getElementById("ticketToggle");
    const dropdown = document.getElementById("ticketDropdown");
    const totalText = document.getElementById("totalTicketCount");

    // M·ªü/ƒë√≥ng dropdown ch·ªçn lo·∫°i v√©
    toggleBtn.addEventListener("click", () => {
      dropdown.classList.toggle("hidden");
    });

    // C·∫≠p nh·∫≠t t·ªïng s·ªë v√©
    const updateTotal = () => {
      const types = ["adult", "child", "senior", "student"];
      let total = 0;

      types.forEach(type => {
        const count = parseInt(document.getElementById(type + "Count").textContent);
        total += count;
      });

      totalText.textContent = `${total} v√©`;
    };

    // TƒÉng s·ªë l∆∞·ª£ng v√©
    document.querySelectorAll(".ticket-increase").forEach(button => {
      button.addEventListener("click", () => {
        const type = button.dataset.type;
        const countSpan = document.getElementById(type + "Count");
        let count = parseInt(countSpan.textContent);
        count++;
        countSpan.textContent = count;

        // G√°n l·∫°i gi√° tr·ªã v√†o input ·∫©n
        const hiddenInput = document.querySelector(`input[name="${type}Quantity"]`);
        if (hiddenInput) hiddenInput.value = count;

        updateTotal();
      });
    });

    // Gi·∫£m s·ªë l∆∞·ª£ng v√©
    document.querySelectorAll(".ticket-decrease").forEach(button => {
      button.addEventListener("click", () => {
        const type = button.dataset.type;
        const countSpan = document.getElementById(type + "Count");
        let count = parseInt(countSpan.textContent);
        if (count > 0) count--;
        countSpan.textContent = count;

        // G√°n l·∫°i gi√° tr·ªã v√†o input ·∫©n
        const hiddenInput = document.querySelector(`input[name="${type}Quantity"]`);
        if (hiddenInput) hiddenInput.value = count;

        updateTotal();
      });
    });

    // G·ªçi ngay t·ª´ ƒë·∫ßu ƒë·ªÉ hi·ªÉn th·ªã t·ªïng v√© ban ƒë·∫ßu
    updateTotal();
  });
</script>

</body>
</html>
